# cargo-leptos

Build tool for [Leptos](https://crates.io/crates/leptos)

# Installation

You need the following command line tools installed:

- [sass](https://sass-lang.com/dart-sass)
- [wasm-pack](https://rustwasm.github.io/wasm-pack/)

Install with: `cargo install --path .`

# Use

Help: `cargo leptos --help`

Cargo leptos assumes that you have three cargo projects:

- _app_: the app logic (feature: **csr**, target: **wasm** or **current**). The _app_ is assumed to have a _style_ subfolder that contains scss files.
- _client_: the client packaging of _app_ (feature: **hydrate**, target: **wasm**)
- _server_: the server packaging of _app_ (feature: **ssr**, target: **current**)

You should not use a cargo workspace.

The configuration is done in a `leptos.toml` file in the root of the project. A default one can be generated by running: `cargo leptos init`. All options are documented there.

# Folder structure

```
├── src/
│ ├── app/             (the app logic)
│ ├── client/          (client packaging)
│ ├── server/          (the http server)
│ ├── generated.rs     (created by build)
│ ├── lib.rs
│ ├── app.scss         (root scss file)
│ └── main.rs
│
├── static/
│ └── favicon.png
│
├── index.html         (template for generating the root page)
├── Cargo.toml
│
├── integration/       (integration test using Playwright)
│ ├── tests/
│ ├── playwright.config.ts
│ └── package.json
│
└── target/
  └── site/
    ├── release/       (content should be served by the server)
    │ ├── favicon.png
    │ └── pkg/
    │   ├── app.wasm
    │   ├── app.js
    │   └── app.css
    └── debug/         (same content as release)
```
